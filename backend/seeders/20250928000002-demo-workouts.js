'use strict';

module.exports = {
  async up(queryInterface, Sequelize) {
    const now = new Date();
    const today = new Date().toISOString().split('T')[0];
    const yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];
    const twoDaysAgo = new Date(Date.now() - 172800000).toISOString().split('T')[0];
    const threeDaysAgo = new Date(Date.now() - 259200000).toISOString().split('T')[0];
    const fourDaysAgo = new Date(Date.now() - 345600000).toISOString().split('T')[0];
    const fiveDaysAgo = new Date(Date.now() - 432000000).toISOString().split('T')[0];
    const sixDaysAgo = new Date(Date.now() - 518400000).toISOString().split('T')[0];

    return queryInterface.bulkInsert('workouts', [
      // User 1 - demo_user (週150分の有酸素運動と週2回の筋トレでWHO基準を満たす)
      {
        "userID": 1,
        date: today,
        exercise: 'ランニング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 5,
        duration: 30,
        intensity: '中',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: today,
        exercise: '腕立て伏せ',
        exerciseType: 'strength',
        sets: 3,
        reps: 30,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 10}, {"setNumber": 2, "reps": 10}, {"setNumber": 3, "reps": 10}]),
        distance: null,
        duration: null,
        intensity: '中',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: yesterday,
        exercise: 'サイクリング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 10,
        duration: 40,
        intensity: '中',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: twoDaysAgo,
        exercise: 'スクワット',
        exerciseType: 'strength',
        sets: 4,
        reps: 40,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 10}, {"setNumber": 2, "reps": 10}, {"setNumber": 3, "reps": 10}, {"setNumber": 4, "reps": 10}]),
        distance: null,
        duration: null,
        intensity: '中',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: threeDaysAgo,
        exercise: 'ウォーキング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 3,
        duration: 30,
        intensity: '低',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: fourDaysAgo,
        exercise: '水泳',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 1,
        duration: 30,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 1,
        date: fiveDaysAgo,
        exercise: 'ジョギング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 4,
        duration: 25,
        intensity: '中',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },

      // User 2 - active_user (アクティブなユーザー)
      {
        "userID": 2,
        date: today,
        exercise: 'HIIT',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: null,
        duration: 45,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 2,
        date: today,
        exercise: 'デッドリフト',
        exerciseType: 'strength',
        sets: 5,
        reps: 25,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 5}, {"setNumber": 2, "reps": 5}, {"setNumber": 3, "reps": 5}, {"setNumber": 4, "reps": 5}, {"setNumber": 5, "reps": 5}]),
        distance: null,
        duration: null,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 2,
        date: yesterday,
        exercise: 'ベンチプレス',
        exerciseType: 'strength',
        sets: 4,
        reps: 32,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 8}, {"setNumber": 2, "reps": 8}, {"setNumber": 3, "reps": 8}, {"setNumber": 4, "reps": 8}]),
        distance: null,
        duration: null,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 2,
        date: twoDaysAgo,
        exercise: 'ランニング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 10,
        duration: 50,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 2,
        date: threeDaysAgo,
        exercise: 'プルアップ',
        exerciseType: 'strength',
        sets: 3,
        reps: 24,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 8}, {"setNumber": 2, "reps": 8}, {"setNumber": 3, "reps": 8}]),
        distance: null,
        duration: null,
        intensity: '高',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },

      // User 3 - beginner_user (初心者、WHO基準未達成)
      {
        "userID": 3,
        date: today,
        exercise: 'ウォーキング',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: 2,
        duration: 20,
        intensity: '低',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 3,
        date: threeDaysAgo,
        exercise: '軽いストレッチ',
        exerciseType: 'cardio',
        sets: null,
        reps: null,
        repsDetail: null,
        distance: null,
        duration: 15,
        intensity: '低',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      },
      {
        "userID": 3,
        date: fiveDaysAgo,
        exercise: '腕立て伏せ',
        exerciseType: 'strength',
        sets: 2,
        reps: 10,
        repsDetail: JSON.stringify([{"setNumber": 1, "reps": 5}, {"setNumber": 2, "reps": 5}]),
        distance: null,
        duration: null,
        intensity: '低',
        external_id: null,
        source: 'manual',
        raw_data: null,
        synced_at: null,
        createdAt: now,
        updatedAt: now
      }
    ], {});
  },

  async down(queryInterface, Sequelize) {
    return queryInterface.bulkDelete('workouts', null, {});
  }
};