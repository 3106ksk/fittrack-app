# 実装ロードマップ

## 🎯 全体目標

**6週間で「運動記録アプリ」から「健康意思決定支援プラットフォーム」へ進化**

- 毎週金曜日にリリース
- 各週で就活デモ可能な成果物
- 段階的な価値提供

## 📅 週次実装計画

### Week 1: Small Wins Engine v1（9/26-10/2）
**テーマ**: 「運動の健康翻訳」

#### 完了定義（DoD）
- [x] SmallWinsService実装完了
- [x] 健康指標API稼働（GET /api/insights/daily）
- [x] SmallWinCardコンポーネント表示
- [x] 根拠ピル（Chip）による透明性確保
- [x] キャッシング実装（Redis or Memory）

#### 実装タスク
```bash
# Day 1-2: バックエンド
- SmallWinsService.js作成
- insights APIルート実装
- マイグレーション実行

# Day 3-4: フロントエンド
- SmallWinCard.tsx作成
- Dashboard統合
- レスポンシブ対応

# Day 5: テスト・調整
- 単体テスト作成
- パフォーマンス最適化
- デモ動画撮影
```

#### 30秒デモシナリオ
「ランニング15分追加→週150分達成→『WHO推奨達成！心疾患リスク30%減』表示」

#### 成果物
- WHO基準の健康スコア表示
- 週150分達成バッジ
- 前週比トレンド表示

---

### Week 2: Consent Center & Export（10/3-10/9）
**テーマ**: 「データ透明性と医療連携」

#### 完了定義（DoD）
- [x] ConsentCenterページ完成
- [x] 同意管理API実装
- [x] PDF健康レポート生成
- [x] CSVデータエクスポート
- [x] データ削除機能

#### 実装タスク
```bash
# Day 1-2: Consent管理
- consentsテーブル作成
- Consent API実装
- ConsentCenter.tsx作成

# Day 3-4: Export機能
- PDFテンプレート作成
- ExportService実装
- 医療向けフォーマット

# Day 5: 統合・テスト
- UIフロー確認
- GDPR準拠チェック
- デモ動画撮影
```

#### 30秒デモシナリオ
「同意管理画面→PDFエクスポート→医療機関向けレポート表示」

#### 成果物
- データ利用同意のトグル管理
- 医療相談用PDFレポート
- 完全データ削除機能

---

### Week 3: Strava Webhook Integration（10/10-10/16）
**テーマ**: 「リアルタイム同期」

#### 完了定義（DoD）
- [x] Webhook受信エンドポイント実装
- [x] イベントキューイング（Bull/Redis）
- [x] 冪等性保証（external_id重複チェック）
- [x] レート制限対応
- [x] 自動Small Wins更新

#### 実装タスク
```bash
# Day 1-2: Webhook基盤
- stravaWebhook.js作成
- Redisキュー設定
- サブスクリプション登録

# Day 3-4: 処理ロジック
- イベント処理実装
- 冪等性チェック
- エラーハンドリング

# Day 5: 本番テスト
- Strava実機テスト
- パフォーマンス測定
- デモ動画撮影
```

#### 30秒デモシナリオ
「Stravaでラン終了→FitStartに即反映→Small Winsスコア更新」

#### 成果物
- リアルタイム同期
- イベント駆動アーキテクチャ
- 処理状況の可視化

---

### Week 4: Sleep Integration（10/17-10/23）※オプション
**テーマ**: 「包括的健康管理」

#### 完了定義（DoD）
- [x] HealthKit or Health Connect連携
- [x] 睡眠データ取得・保存
- [x] 週次健康ボード拡張
- [x] 就寝前運動アラート

#### 実装タスク
```bash
# Day 1-3: プラットフォーム連携
- HealthKit API実装
- 睡眠モデル追加
- データ同期処理

# Day 4-5: UI統合
- WeeklyHealthBoard拡張
- 睡眠指標表示
- アラート実装
```

#### 成果物
- 睡眠時間の可視化
- 運動と睡眠の相関表示
- 就寝前高強度運動警告

---

### Week 5: Performance & Testing（10/24-10/30）
**テーマ**: 「Production Ready」

#### 完了定義（DoD）
- [x] E2Eテスト網羅率80%
- [x] LCP < 2.5秒達成
- [x] エラー率 < 0.1%
- [x] 負荷テスト1000同時接続

#### 実装タスク
```bash
# Day 1-2: テスト作成
- Playwright設定
- E2Eシナリオ作成
- 負荷テスト実装

# Day 3-4: 最適化
- フロントエンド最適化
- API レスポンス改善
- CDN設定

# Day 5: 計測・文書化
- パフォーマンス計測
- README更新
- リリースノート作成
```

#### 成果物
- 自動テストスイート
- パフォーマンスレポート
- 本番環境対応

---

### Week 6: Polish & Launch（10/31-11/6）
**テーマ**: 「就活Ready」

#### 完了定義（DoD）
- [x] デモサイト公開
- [x] ドキュメント完成
- [x] プレゼン資料作成
- [x] GitHubリポジトリ整備

#### 実装タスク
```bash
# Day 1-2: UI改善
- UIフィードバック反映
- アニメーション追加
- エラー処理強化

# Day 3-4: ドキュメント
- API仕様書完成
- README充実
- デモ動画編集

# Day 5: リリース
- 本番デプロイ
- 告知準備
- バックアップ設定
```

#### 成果物
- 完成版アプリケーション
- 包括的なドキュメント
- 就活用ポートフォリオ

## 🎬 デモ動画計画

### 週次デモテーマ
1. Week 1: 「運動が健康指標に変わる瞬間」
2. Week 2: 「データの透明性と医療連携」
3. Week 3: 「リアルタイム同期の威力」
4. Week 4: 「睡眠×運動の総合管理」
5. Week 5: 「エンタープライズレベルの品質」
6. Week 6: 「完成版ウォークスルー」

### 統合デモ（3分）
```
0:00-0:30 問題提起（運動記録の限界）
0:30-1:00 Small Wins（健康翻訳）
1:00-1:30 Consent（透明性）
1:30-2:00 Export（医療連携）
2:00-2:30 技術スタック説明
2:30-3:00 将来ビジョン
```

## 📊 KPIと成功指標

### 技術KPI
- API レスポンス: P95 < 200ms
- フロントエンド: LCP < 2.5s
- 可用性: 99.9%以上
- テストカバレッジ: 80%以上

### ビジネスKPI（仮想）
- Small Wins生成率: 95%以上
- データエクスポート利用率: 月15%
- Webhook処理成功率: 99%以上
- 同意取得率: 80%以上

### 就活KPI
- GitHub Star: 50以上
- 技術ブログPV: 1,000以上
- デモ動画再生: 500回以上
- 面接での言及率: 100%

## 🚨 リスクと対策

### 技術リスク
| リスク | 影響 | 対策 |
|-------|------|------|
| Strava API制限 | High | キャッシング強化 |
| PDF生成負荷 | Medium | 非同期処理 |
| Redis障害 | Low | インメモリフォールバック |

### スケジュールリスク
| リスク | 影響 | 対策 |
|-------|------|------|
| 実装遅延 | High | Week4をバッファに |
| テスト不足 | Medium | 自動テスト優先 |
| デモ準備不足 | Low | 毎週金曜録画 |

## 🎯 次のアクション

### 今日（Day 1）
1. 開発環境セットアップ
2. マイグレーション実行
3. SmallWinsService実装開始

### 今週
1. Small Wins Engine完成
2. デモ動画撮影
3. 技術ブログ執筆

### 来週の準備
1. PDF生成ライブラリ調査
2. GDPR要件確認
3. UI デザイン準備

---

**作成日**: 2025年9月26日
**作成者**: FitStart Tech Lead